# Run ./create-nginx-symlinks

# krischerven.info (no SSL)
server {

  listen 80;
  server_name krischerven.info www.krischerven.info;

  location / {
    include proxy_params;
    proxy_pass http://unix:/home/dev/resume-webpage/resume-webpage.sock;
  }

  # HTTPS redirection
  return 301 https://krischerven.info$request_uri;
}

# krischerven.info (SSL)
server {

  listen 443 ssl;
  ssl_certificate /home/dev/resume-webpage/SSL/krischerven_info_chain.crt;
  ssl_certificate_key /home/dev/resume-webpage/SSL/krischerven_info.pem;

  server_name krischerven.info www.krischerven.info;

  location / {
    include proxy_params;
    proxy_pass http://unix:/home/dev/resume-webpage/resume-webpage.sock;
  }
}

# git.krischerven.info (SSL)
server {

  listen 443 ssl;
  ssl_certificate /home/dev/resume-webpage/SSL/krischerven_info_chain.crt;
  ssl_certificate_key /home/dev/resume-webpage/SSL/krischerven_info.pem;

  server_name git.krischerven.info;

  location / {
    include proxy_params;
    proxy_pass https://krischerven.info:3000;
  }
}
